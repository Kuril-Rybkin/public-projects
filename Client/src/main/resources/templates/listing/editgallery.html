<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" style="height: 100%">
<head th:insert="general.html::head"></head>

<body style="padding-top: 58px">
<div th:insert="general.html::navbar"></div>

<div class="alert alert-success" th:if="${success}">
  <h4 class="alert-heading" th:text="${errorMessage}"></h4>
</div>
<div class="alert alert-danger" th:if="${success == false}">
  <span th:text="${errorMessage}"></span>
</div>
<div class="container text-center">
  <h1 style="margin: 50px; color: #f2f2f2">MyOnlineMarketplace</h1>
</div>
<div class="container rounded" style="background: #f2f2f2">
  <div class="container text-center">
    <h3 style="margin: 50px; color: black">Edit Gallery</h3>
  </div>
  <div class="row justify-content-center" th:each="image: ${images}">
    <div class="col-6 d-flex justify-content-center" style="margin: 10px">
      <img th:src="${image.url}">
      <form th:action="@{'/listings/' + ${image.listing} + '/deletegallery/' + ${image.id}}" method="post">
        <button type="submit" class="btn btn-danger" style="margin: 25px">Delete image</button>
      </form>
    </div>
  </div>
  <form th:action="@{'/listings/' + ${newImage.listing} + '/editgallery'}" method="post">
    <div class="form-group">
      <label for="srcInput">Add new image</label>
      <input type="text" placeholder="Image link" class="form-control" id="srcInput" th:field="*{newImage.url}">
      <input type="hidden" th:value="${newImage.listing}" th:field="*{newImage.listing}">
      <button type="submit" class="btn btn-primary" style="margin: 25px">Submit</button>
    </div>
  </form>
</div>
</body>
</html>